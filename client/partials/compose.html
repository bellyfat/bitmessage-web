<h1>Compose</h1>
{{content.toAddress}}
<form name="form" class="form form-horizontal" ng-submit="form.$valid && send()">

    <div class="form-group">
        <label for="fromAddress" class="col-sm-2 control-label">From:</label>

        <div class="col-sm-10">
            <select class="form-control"
                    id="fromAddress"
                    ng-model="data.fromAddress"
                    required
                    ng-options="identity.address as identity.label for identity in identities">
            </select>
        </div>
    </div>

    <div class="form-group">
        <label for="toAddress" class="col-sm-2 control-label">To:</label>

        <div class="col-sm-10">
            <div class="input-group">
            <input type="text" class="form-control" placeholder="To Address" id="toAddress"
                   ng-model="data.toAddress" required>
                <span class="input-group-addon" ng-class="{'alert-success':GetRecipientLabel()}">{{GetRecipientLabel() || 'Unknown'}}</span>
                </div>
        </div>
    </div>

    <div class="form-group">
        <label for="subject" class="col-sm-2 control-label">Subject:</label>

        <div class="col-sm-10">
            <input type="text" class="form-control" placeholder="Subject" id="subject"
                   ng-model="data.subject" required>
        </div>
    </div>

    <div class="form-group">
        <textarea class="form-control" ng-model="data.message" rows="10"></textarea>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" ng-disabled="form.$invalid" class="btn btn-default">Send</button>
        </div>
    </div>

</form>